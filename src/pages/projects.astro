---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const projects = await getCollection('projects');
---

<Layout title="My Projects">
	<div class="my-4 flex flex-col items-center">
		<p class="my-6 text-center text-4xl">My projects</p>
		<div class="grid gap-4 lg:grid-cols-2">
			{
				projects.map(({ data }) => (
					<div class="card bg-base-100 shadow-sm sm:w-96">
						<div class="card-body">
							<h2 class="card-title">
								{data.title}
								<div class="badge uppercase badge-neutral">{data.type}</div>
							</h2>
							<p>{data.description}</p>
							<div class="card-actions justify-end">
								<a
									class="btn btn-primary"
									href={data.url}
									target="_blank"
									rel="noopener noreferrer"
								>
									{data.type === 'website' ? 'Live demo' : 'Download'}
								</a>
								<a
									class="btn btn-secondary"
									href={data.source_url}
									target="_blank"
									rel="noopener noreferrer"
								>
									View source
								</a>
							</div>
						</div>
					</div>
				))
			}
		</div>
	</div>
</Layout>
